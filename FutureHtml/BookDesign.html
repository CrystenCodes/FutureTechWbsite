<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Imaging and Design</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: system-ui, Arial, sans-serif;
  background: linear-gradient(180deg,#fbfbfb 0%, #f7d2d2 50%, #f3f3f3 100%);
}

body {
  display: flex;
  justify-content: center;
  padding: 40px;
}

/* Content container */
.content-wrapper {
  max-width: 900px;
  width: 100%;
}

/* Text content */
.interactive-content {
  line-height: 1.6;
  cursor: text;
  user-select: text;
}

/* Headings */
h1 {
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 32px;
  color: #333;
}

/* Paragraphs */
p {
  font-size: 16px;
  color: #333;
  margin-bottom: 15px;
}

/* Footer Highlighter/Eraser */
.footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: rgba(206, 187, 187, 0.9);
  padding: 20px;
  text-align: center;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
  z-index: 100;
}

.tools-container {
  display: flex;
  justify-content: center;
  gap: 30px;
  flex-wrap: wrap;
}

.tool-btn {
  padding: 12px 25px;
  background-color: #333;
  color: #fff;
  border: 2px solid #555;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: bold;
}

.tool-btn:hover {
  background-color: #555;
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(255, 255, 255, 0.2);
}

.tool-btn.active {
  background-color: #ffff00;
  color: #000;
  border-color: #ffff00;
}

.highlighted {
  background-color: yellow;
  color: black;
}
</style>
</head>
<body>

<div class="content-wrapper">
  <div class="interactive-content">
    <h1>Applied Productivity Tools with Advanced Application Techniques</h1>

    <p>Applied productivity tools are software like advanced word processors, spreadsheets, and collaborative apps that go beyond basic use. They help with data analysis, automation, and teamwork, making tasks faster and more efficient.</p>

    <p><strong>Advanced application techniques include:</strong></p>
    <ul>
      <li>Using formulas, macros, and data visualization in spreadsheets.</li>
      <li>Leveraging templates, styles, and references in word processors.</li>
      <li>Integrating cloud-based apps for real-time collaboration and file sharing.</li>
    </ul>

    <p>These tools allow users to organize, analyze, and share information effectively, enhancing both personal productivity and group performance.</p>
  </div>
</div>

<footer class="footer">
  <div class="tools-container">
    <button class="tool-btn" id="highlighterBtn" onclick="selectTool('highlighter', this)" title="Highlighter">Highlighter</button>
    <button class="tool-btn" id="eraserBtn" onclick="selectTool('eraser', this)" title="Eraser">Eraser</button>    
  </div>
</footer>

<script>
const TOOLS = {
  HIGHLIGHTER: 'highlighter',
  ERASER: 'eraser'
};

let currentTool = null;

function selectTool(tool, element) {
  currentTool = tool;
  document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
  if (element) element.classList.add('active');
}

document.addEventListener('mouseup', () => {
  setTimeout(() => {
    const selection = window.getSelection();
    if (!currentTool || selection.isCollapsed) return;

    const range = selection.getRangeAt(0);
    const container = range.commonAncestorContainer;
    const interactiveContent = (container.nodeType === 1 ? container : container.parentElement)
                                .closest('.interactive-content');
    if (!interactiveContent) return;

    if (currentTool === TOOLS.ERASER) {
      removeFormatting(range);
    } else {
      applyFormatting(range, currentTool);
    }
    selection.removeAllRanges();
  }, 20);
});

function applyFormatting(range, tool) {
  const span = document.createElement('span');
  span.className = 'highlighted';
  try {
    range.surroundContents(span);
  } catch (e) {
    const contents = range.extractContents();
    span.appendChild(contents);
    range.insertNode(span);
  }
}

function removeFormatting(range) {
  const container = range.commonAncestorContainer;
  const parentSpan = (container.nodeType === 1 ? container : container.parentElement)
                      .closest('.highlighted');
  if (parentSpan) {
    const parent = parentSpan.parentNode;
    while (parentSpan.firstChild) parent.insertBefore(parentSpan.firstChild, parentSpan);
    parent.removeChild(parentSpan);
    parent.normalize();
  }
}
</script>
</body>
</html>
